{% extends "base.html" %}

{% block content %}
<main>
    <section class="hero">
        <div class="hero-inner">
            <h1>claude<span class="vil">vil</span></h1>
            <p class="tagline">Semantic code search.<br>One binary. Zero bullshit.</p>
        </div>
        <div class="scroll-hint" aria-hidden="true">
            <span></span>
        </div>
    </section>

    <section class="features">
        <div class="wrap">
            <div class="grid">
                <div class="card">
                    <h3>Pure Rust</h3>
                    <p>No Python. No Node. No Docker. No CUDA drivers. One static binary, runs anywhere you do.</p>
                </div>
                <div class="card">
                    <h3>MCP native</h3>
                    <p>Plugs directly into Claude Code as an MCP server. Your AI gets surgical code retrieval instead of grepping the entire repo.</p>
                </div>
                <div class="card">
                    <h3>Local everything</h3>
                    <p>Embeddings run on your CPU via candle. Your code never leaves your machine. Not even a little.</p>
                </div>
                <div class="card">
                    <h3>Language-aware chunking</h3>
                    <p>Parses Go at the declaration level &mdash; functions, methods, types, interfaces. Not dumb line splits.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="install" id="install">
        <div class="wrap">
            <h2>Install</h2>
            <div class="install-methods">
                <div class="install-method">
                    <h3>Nix <span class="recommended">(recommended)</span></h3>
                    <pre><code><span class="prompt">$</span> nix run github:cpcloud/claudevil -- /path/to/project</code></pre>
                </div>
                <div class="install-method">
                    <h3>From source</h3>
                    <pre><code><span class="prompt">$</span> cargo install --git https://github.com/cpcloud/claudevil
<span class="prompt">$</span> claudevil /path/to/project</code></pre>
                </div>
                <div class="install-method">
                    <h3>Pre-built binaries</h3>
                    <p>Static binaries for Linux (musl) are on the <a href="https://github.com/cpcloud/claudevil/releases">releases page</a>.</p>
                </div>
            </div>
            <div class="install-method">
                <h3>Claude Code config</h3>
                <pre><code>{
  "mcpServers": {
    "claudevil": {
      "command": "claudevil",
      "args": ["/absolute/path/to/your/project"]
    }
  }
}</code></pre>
            </div>
        </div>
    </section>

    <section class="how">
        <div class="wrap">
            <h2>How it works</h2>
            <ol class="steps">
                <li>
                    <svg class="step-face" viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="32" r="28" fill="#f43f5e"/><circle cx="23" cy="27" r="4" fill="#09090b"/><circle cx="41" cy="27" r="4" fill="#09090b"/></svg>
                    <div>
                        <strong>Point it at your code</strong>
                        <p><code>claudevil</code> walks your directory, chunks source files by language-aware boundaries, and embeds each chunk with all-MiniLM-L6-v2.</p>
                    </div>
                </li>
                <li>
                    <svg class="step-face" viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="32" r="28" fill="#f43f5e"/><circle cx="23" cy="27" r="4" fill="#09090b"/><circle cx="41" cy="27" r="4" fill="#09090b"/></svg>
                    <div>
                        <strong>It speaks MCP</strong>
                        <p>Exposes a <code>search</code> tool over stdio. Claude Code calls it automatically when it needs code context.</p>
                    </div>
                </li>
                <li>
                    <svg class="step-face" viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="32" r="28" fill="#f43f5e"/><circle cx="23" cy="27" r="4" fill="#09090b"/><circle cx="41" cy="27" r="4" fill="#09090b"/></svg>
                    <div>
                        <strong>Your AI gets smarter</strong>
                        <p>Instead of stuffing 50k tokens of irrelevant code, your model gets the 5 most relevant functions. Faster, cheaper, better.</p>
                    </div>
                </li>
            </ol>
        </div>
    </section>

    <section class="terminal">
        <div class="wrap">
            <h2>30 seconds to smarter AI</h2>
            <pre><code>$ claudevil ~/src/myproject
  <span class="log-info">INFO</span> claudevil starting for: /home/you/src/myproject
  <span class="log-info">INFO</span> loading embedding model...
  <span class="log-info">INFO</span> embedding model ready
  <span class="log-info">INFO</span> indexing complete: 847 chunks stored
  <span class="log-info">INFO</span> MCP server starting on stdio</code></pre>
            <p class="note">Add it to your MCP config. Forget about it. Watch your token bills drop.</p>
        </div>
    </section>

    <footer>
        <div class="wrap">
            <span class="pronunciation">/kl&ocirc;d&middot;vil/ &mdash; <em>rhymes with vaudeville</em></span>
            <span class="sep">&middot;</span>
            <a href="https://github.com/cpcloud/claudevil">GitHub</a>
            <span class="sep">&middot;</span>
            <a href="https://github.com/cpcloud/claudevil/releases">Releases</a>
            <span class="sep">&middot;</span>
            <span>MIT License</span>
            <span class="sep">&middot;</span>
            <span>Built with spite and Rust</span>
        </div>
    </footer>
</main>
{% endblock %}
